<html>
    <head>
        <title>My test page</title>
        <script src="/reqs/leaflet/dist/leaflet-src.js"></script>
        <script src="/reqs/draw/dist/leaflet.draw-src.js"></script>
        <script src="/reqs/hash/leaflet-hash.js"></script>
        <script src="/reqs/i18n/Leaflet.i18n.js"></script>
        <script src="/reqs/edit_in_osm/Leaflet.EditInOSM.js"></script>
        <script src="/reqs/minimap/src/Control.MiniMap.js"></script>
        <script src="/src/js/leaflet.storage.core.js"></script>
        <script src="/src/js/leaflet.storage.xhr.js"></script>
        <script src="/src/js/leaflet.storage.forms.js"></script>
        <script src="/src/js/leaflet.lazygeojson.js"></script>
        <script src="/src/js/leaflet.storage.icon.js"></script>
        <script src="/src/js/leaflet.storage.features.js"></script>
        <script src="/src/js/leaflet.storage.layer.js"></script>
        <script src="/src/js/leaflet.storage.controls.js"></script>
        <script src="/src/js/leaflet.storage.js"></script>
        <script src="/contrib/js/storage.ui.default.js"></script>
        <link rel="stylesheet" href="/reqs/leaflet/dist/leaflet.css" />
        <!--[if lte IE 8]>
            <link rel="stylesheet" href="/reqs/leaflet/dist/leaflet.ie.css" />
        <![endif]-->
        <link rel="stylesheet" href="/reqs/draw/dist/leaflet.draw.css" />
        <link rel="stylesheet" href="/reqs/minimap/src/Control.MiniMap.css" />
        <link rel="stylesheet" href="/reqs/edit_in_osm/Leaflet.EditInOSM.css" />
        <link rel="stylesheet" href="/src/css/storage.css" />
        <link rel="stylesheet" href="/contrib/css/storage.ui.default.css" />
    </head>
    <body>
        <div id="map"></div>
        <script type="text/javascript">
            map_settings = {
                "storage_id": 42,
                "center": { "type": "Point", "coordinates": [ -19.533691, 65.330178 ] },
                "datalayers": [{"icon_class": "Default", "name": "POIs", "display_on_load": true, "pk": 62, "pictogram_url": null, "options": {}}
                ],
                "urls": {
                    "polygon_update": "/map/{map_id}/polygon/edit/{pk}/",
                    "polygon_add": "/map/{map_id}/polygon/add/",
                    "upload_data": "/map/{map_id}/import/data/",
                    "marker_update": "/map/{map_id}/marker/edit/{pk}/",
                    "map_embed": "/map/{map_id}/export/iframe/",
                    "feature_geojson_list": "/feature/json/datalayer/{datalayer_id}/",
                    "polyline": "/polyline/{pk}/",
                    "marker": "/marker/{pk}/",
                    "datalayer_add": "/map/{map_id}/datalayer/add/",
                    "map_update_tilelayers": "/map/{map_id}/update/tilelayers/",
                    "datalayer_update": "/map/{map_id}/datalayer/edit/{pk}/",
                    "marker_add": "/map/{map_id}/marker/add/",
                    "polygon": "/polygon/{pk}/",
                    "polygon_geojson": "/polygon/json/{pk}/",
                    "marker_geojson": "/marker/json/{pk}/",
                    "map": "/map/{username}/{slug}/",
                    "polyline_add": "/map/{map_id}/polyline/add/",
                    "map_infos": "/map/{map_id}/infos/caption/",
                    "polyline_delete": "/map/{map_id}/polyline/delete/{pk}/", 
                    "logout": "/logout/",
                    "polyline_geojson": "/polyline/json/{pk}/",
                    "map_update": "/map/{map_id}/update/metadata/",
                    "map_update_permissions": "/map/{map_id}/update/permissions/",
                    "map_add": "/map/add/",
                    "polyline_update": "/map/{map_id}/polyline/edit/{pk}/",
                    "map_update_extent": "/map/{map_id}/update/extent/",
                    "polygon_delete": "/map/{map_id}/polygon/delete/{pk}/",
                    "marker_delete": "/map/{map_id}/marker/delete/{pk}/",
                    "datalayer_delete": "/map/{map_id}/datalayer/delete/{pk}/",
                    "map_delete": "/map/{map_id}/delete/",
                    "login": "/login/"
                },
                "default_iconUrl": "/src/img/marker.png",
                "zoom": 6,
                "tilelayers": [{
                    "tilelayer": {
                        "attribution": "\u00a9 OSM Contributors",
                        "name": "OpenStreetMap",
                        "url_template": "http://localhost:20008/tile/openriverboatmap/{z}/{x}/{y}.png",
                        "minZoom": 0,
                        "maxZoom": 18,
                        "id": 1
                    }, "rank": 1
                }],
                "allowEdit": 1,
                "embedControl": 1,
                "homeControl": 1,
                "locateControl": 1,
                "jumpToLocationControl": 1,
                "enableMarkerDraw": 1,
                "enablePolylineDraw": 1,
                "enablePolygonDraw": 1,
                "name": "name of the map",
                "displayPopupFooter": false,
                "displayDataBrowserOnLoad": false
            }
            var MAP = new L.Storage.Map("map", map_settings);
        </script>
        <div id="storage-ui-container"></div>
        <div id="storage-alert-container"></div>
        <div id="storage-tooltip-container"></div>
    </body>
</html>